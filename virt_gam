#include <iostream>
#include <string>

using namespace std;

//double Sum_Rahunok, kurs1, kurs2, saldo, borg$, borg, oplata, konv, number;
//string pokupatel;

class Customers
{
public:
	double Sum_Rahunok, kurs1, kurs2, saldo, borg$, borg, oplata, konv, number;
	string pokupatel;
	double Saldo();

private:
	double a;
};


double Customers::Saldo()
{
	cout << "Vvedite summu scheta\n";
	cin >> Sum_Rahunok;
	cout << "Write current invoice number" << endl;
	cin >> number;
	cout << "Vvedite kurs\n";
	cin >> kurs1;
	borg = Sum_Rahunok;
	borg$ = borg / kurs1;
	cout << "Dolg po schetu\t" <<number << "  " << pokupatel << " =" << borg << endl;
	cout << "Summa otgruzki\t" << pokupatel << ", $ =" << borg$ << endl;

	cout << "Vvedite summu oplaty\n";
	cin >> oplata;
	cout << "Vvedite kurs\n";
	cin >> kurs2;
	konv = oplata / kurs2;
	cout << "Prokonvertovano =" << konv << endl;
	borg = borg - oplata;
	saldo = borg$ - konv;
	cout << "Dolg po schetu\t" << number << "  " << pokupatel << "=\t" << borg << endl;
	cout << "Saldo\t" << pokupatel << " =\t" << saldo << endl;

	if (borg > 0)
	{
		do
		{
			cout << "Vvedite summu oplaty\n";
			cin >> oplata;
			cout << "Vvedite kurs\n";
			cin >> kurs2;
			konv = oplata / kurs2;
			cout << "Prokonvertovano =" << konv << endl;
			borg = borg - oplata;
			saldo = saldo - konv;
			cout << "Dolg po schetu\t" << number << "  " << pokupatel << "=\t" << borg << endl;
			cout << "\n" << endl;
			cout << "Saldo \t" << pokupatel << " =\t" << saldo << endl;
		} while (borg > 0);
	}
	else
	{
		cout << "Dolg oplachen 100%" << endl;
	}


	return saldo;
}

int main()
{
	int year, b;
	string month;
	double a;

	Customers Client = Customers();

	cout << "Write current Year" << endl;
	cin >> year;
	cout << "Write current month" << endl;
	cin >> month;
	cout << "Vvedite nazvanie Pokupatela:\n";
	cin.get();
	getline(cin, Client.pokupatel);
	//getline(cin, Client.pokupatel);
	//cin >> Client.pokupatel;

	Client.Saldo();

	a = Client.saldo;

	cout << "Saldo po schetu nomer " << Client.number << " = " << a << endl;
	cout << "\n" << endl;

	for (;;)
	{
		cout << "Next order in this Month? Yes - 1, No - 2" << endl;
		cin >> b;
			if (b == 1)
			{
				Client.Saldo();
				a = a + Client.saldo;
			}
			else
			{
				break;
			}
		}
	cout << "\n" << endl;
	cout << month << " " << year << " ITOGO " << a << endl;




	system("pause");
}

